{"ast":null,"code":"var _jsxFileName = \"/Users/pragneshpatel/Documents/GVP/Hackthon/expense-tracker/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Dashboard from \"./pages/Dashboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [isRegisterMode, setIsRegisterMode] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check for existing authentication on app start\n  useEffect(() => {\n    const checkExistingAuth = () => {\n      const token = localStorage.getItem(\"authToken\") || sessionStorage.getItem(\"authToken\");\n      const userData = localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\");\n      if (token && userData) {\n        try {\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n          setAuthToken(token);\n\n          // Set default authorization header\n          axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n        } catch (error) {\n          console.error(\"Error parsing stored user data:\", error);\n          // Clear invalid data\n          localStorage.removeItem(\"authToken\");\n          localStorage.removeItem(\"user\");\n          sessionStorage.removeItem(\"authToken\");\n          sessionStorage.removeItem(\"user\");\n        }\n      }\n      setIsLoading(false);\n    };\n    checkExistingAuth();\n  }, []);\n\n  // Fetch expenses\n  const fetchExpenses = async () => {\n    if (!user || !authToken) return;\n    try {\n      const response = await axios.get(\"/api/expenses\", {\n        headers: {\n          Authorization: `Bearer ${authToken}`\n        }\n      });\n      if (response.data.success) {\n        setExpenses(response.data.expenses);\n        setTotal(response.data.total);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error fetching expenses:\", error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        // Token expired or invalid\n        handleLogout();\n      }\n    }\n  };\n\n  // Add expense\n  const addExpense = async expenseData => {\n    try {\n      const response = await axios.post(\"/api/expenses\", expenseData, {\n        headers: {\n          Authorization: `Bearer ${authToken}`\n        }\n      });\n      if (response.data.success) {\n        setExpenses(prev => [response.data.expense, ...prev]);\n        setTotal(prev => prev + expenseData.amount);\n      }\n    } catch (error) {\n      var _error$response2;\n      console.error(\"Error adding expense:\", error);\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Delete expense\n  const deleteExpense = async (id, amount) => {\n    try {\n      const response = await axios.delete(`/api/expenses/${id}`, {\n        headers: {\n          Authorization: `Bearer ${authToken}`\n        }\n      });\n      if (response.data.success) {\n        setExpenses(prev => prev.filter(exp => exp._id !== id));\n        setTotal(prev => prev - amount);\n      }\n    } catch (error) {\n      var _error$response3;\n      console.error(\"Error deleting expense:\", error);\n      if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Handle login\n  const handleLogin = (userData, token) => {\n    setUser(userData);\n    setAuthToken(token);\n\n    // Show success notification\n    toast.success(`Welcome back, ${userData.name}!`);\n\n    // Set default authorization header\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  };\n\n  // Handle registration\n  const handleRegister = async registrationData => {\n    try {\n      const response = await axios.post(\"/api/auth/register\", registrationData);\n      if (response.data.success) {\n        // Show success notification\n        toast.success(\"Account created successfully! Please sign in.\");\n\n        // Switch to login mode instead of auto-login\n        setIsRegisterMode(false);\n\n        // Optional: Store the registration data temporarily for auto-fill\n        sessionStorage.setItem(\"registeredEmail\", registrationData.email);\n      } else {\n        throw new Error(response.data.message || \"Registration failed\");\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error(\"Registration error:\", error);\n      // Show error notification\n      if ((_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && _error$response4$data.message) {\n        toast.error(error.response.data.message);\n      } else {\n        toast.error(\"Registration failed. Please try again.\");\n      }\n      throw error; // Re-throw to let Register component handle it\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    setUser(null);\n    setAuthToken(null);\n    setExpenses([]);\n    setTotal(0);\n\n    // Clear stored data\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"authToken\");\n    sessionStorage.removeItem(\"user\");\n\n    // Clear default authorization header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  };\n  useEffect(() => {\n    fetchExpenses();\n  }, [user, authToken]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCB0 Expense Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show dashboard if user is authenticated\n  if (user && authToken) {\n    return /*#__PURE__*/_jsxDEV(Dashboard, {\n      user: user,\n      expenses: expenses,\n      total: total,\n      onAddExpense: addExpense,\n      onDeleteExpense: deleteExpense,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show authentication forms\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: isRegisterMode ? /*#__PURE__*/_jsxDEV(Register, {\n      onRegister: handleRegister,\n      onSwitchToLogin: () => setIsRegisterMode(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: handleLogin,\n      onSwitchToRegister: () => setIsRegisterMode(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qQlw+UUVOCl0vJaEQ4uxb8LchEA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","toast","Toaster","Login","Register","Dashboard","jsxDEV","_jsxDEV","App","_s","user","setUser","authToken","setAuthToken","expenses","setExpenses","total","setTotal","isRegisterMode","setIsRegisterMode","isLoading","setIsLoading","checkExistingAuth","token","localStorage","getItem","sessionStorage","userData","parsedUser","JSON","parse","defaults","headers","common","error","console","removeItem","fetchExpenses","response","get","Authorization","data","success","_error$response","status","handleLogout","addExpense","expenseData","post","prev","expense","amount","_error$response2","deleteExpense","id","delete","filter","exp","_id","_error$response3","handleLogin","name","handleRegister","registrationData","setItem","email","Error","message","_error$response4","_error$response4$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAddExpense","onDeleteExpense","onLogout","onRegister","onSwitchToLogin","onLogin","onSwitchToRegister","_c","$RefreshReg$"],"sources":["/Users/pragneshpatel/Documents/GVP/Hackthon/expense-tracker/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Dashboard from \"./pages/Dashboard\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [isRegisterMode, setIsRegisterMode] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check for existing authentication on app start\n  useEffect(() => {\n    const checkExistingAuth = () => {\n      const token =\n        localStorage.getItem(\"authToken\") ||\n        sessionStorage.getItem(\"authToken\");\n      const userData =\n        localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\");\n\n      if (token && userData) {\n        try {\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n          setAuthToken(token);\n\n          // Set default authorization header\n          axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n        } catch (error) {\n          console.error(\"Error parsing stored user data:\", error);\n          // Clear invalid data\n          localStorage.removeItem(\"authToken\");\n          localStorage.removeItem(\"user\");\n          sessionStorage.removeItem(\"authToken\");\n          sessionStorage.removeItem(\"user\");\n        }\n      }\n      setIsLoading(false);\n    };\n\n    checkExistingAuth();\n  }, []);\n\n  // Fetch expenses\n  const fetchExpenses = async () => {\n    if (!user || !authToken) return;\n\n    try {\n      const response = await axios.get(\"/api/expenses\", {\n        headers: { Authorization: `Bearer ${authToken}` },\n      });\n\n      if (response.data.success) {\n        setExpenses(response.data.expenses);\n        setTotal(response.data.total);\n      }\n    } catch (error) {\n      console.error(\"Error fetching expenses:\", error);\n\n      if (error.response?.status === 401) {\n        // Token expired or invalid\n        handleLogout();\n      }\n    }\n  };\n\n  // Add expense\n  const addExpense = async (expenseData) => {\n    try {\n      const response = await axios.post(\"/api/expenses\", expenseData, {\n        headers: { Authorization: `Bearer ${authToken}` },\n      });\n\n      if (response.data.success) {\n        setExpenses((prev) => [response.data.expense, ...prev]);\n        setTotal((prev) => prev + expenseData.amount);\n      }\n    } catch (error) {\n      console.error(\"Error adding expense:\", error);\n\n      if (error.response?.status === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Delete expense\n  const deleteExpense = async (id, amount) => {\n    try {\n      const response = await axios.delete(`/api/expenses/${id}`, {\n        headers: { Authorization: `Bearer ${authToken}` },\n      });\n\n      if (response.data.success) {\n        setExpenses((prev) => prev.filter((exp) => exp._id !== id));\n        setTotal((prev) => prev - amount);\n      }\n    } catch (error) {\n      console.error(\"Error deleting expense:\", error);\n\n      if (error.response?.status === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Handle login\n  const handleLogin = (userData, token) => {\n    setUser(userData);\n    setAuthToken(token);\n    \n    // Show success notification\n    toast.success(`Welcome back, ${userData.name}!`);\n\n    // Set default authorization header\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  };\n\n  // Handle registration\n  const handleRegister = async (registrationData) => {\n    try {\n      const response = await axios.post(\"/api/auth/register\", registrationData);\n\n      if (response.data.success) {\n        // Show success notification\n        toast.success(\"Account created successfully! Please sign in.\");\n        \n        // Switch to login mode instead of auto-login\n        setIsRegisterMode(false);\n        \n        // Optional: Store the registration data temporarily for auto-fill\n        sessionStorage.setItem(\"registeredEmail\", registrationData.email);\n      } else {\n        throw new Error(response.data.message || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      // Show error notification\n      if (error.response?.data?.message) {\n        toast.error(error.response.data.message);\n      } else {\n        toast.error(\"Registration failed. Please try again.\");\n      }\n      throw error; // Re-throw to let Register component handle it\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    setUser(null);\n    setAuthToken(null);\n    setExpenses([]);\n    setTotal(0);\n\n    // Clear stored data\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"authToken\");\n    sessionStorage.removeItem(\"user\");\n\n    // Clear default authorization header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  };\n\n  useEffect(() => {\n    fetchExpenses();\n  }, [user, authToken]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">\n          <h2>💰 Expense Tracker</h2>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show dashboard if user is authenticated\n  if (user && authToken) {\n    return (\n      <Dashboard\n        user={user}\n        expenses={expenses}\n        total={total}\n        onAddExpense={addExpense}\n        onDeleteExpense={deleteExpense}\n        onLogout={handleLogout}\n      />\n    );\n  }\n\n  // Show authentication forms\n  return (\n    <div className=\"app\">\n      {isRegisterMode ? (\n        <Register\n          onRegister={handleRegister}\n          onSwitchToLogin={() => setIsRegisterMode(false)}\n        />\n      ) : (\n        <Login\n          onLogin={handleLogin}\n          onSwitchToRegister={() => setIsRegisterMode(true)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}