{"ast":null,"code":"var _jsxFileName = \"/Users/pragneshpatel/Documents/GVP/Hackthon/expense-tracker/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport CompanyRegistration from \"./components/CompanyRegistration\";\nimport Dashboard from \"./pages/Dashboard\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [isRegisterMode, setIsRegisterMode] = useState(false);\n  const [isCompanyRegisterMode, setIsCompanyRegisterMode] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check for existing authentication on app start\n  useEffect(() => {\n    const checkExistingAuth = () => {\n      const token = localStorage.getItem(\"authToken\") || sessionStorage.getItem(\"authToken\");\n      const userData = localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\");\n      if (token && userData) {\n        try {\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n          setAuthToken(token);\n\n          // Set default authorization header\n          axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n        } catch (error) {\n          console.error(\"Error parsing stored user data:\", error);\n          // Clear invalid data\n          localStorage.removeItem(\"authToken\");\n          localStorage.removeItem(\"user\");\n          sessionStorage.removeItem(\"authToken\");\n          sessionStorage.removeItem(\"user\");\n        }\n      }\n      setIsLoading(false);\n    };\n    checkExistingAuth();\n  }, []);\n\n  // Fetch expenses\n  const fetchExpenses = async () => {\n    if (!user || !authToken) return;\n    try {\n      const response = await axios.get(\"/api/expenses\", {\n        headers: {\n          Authorization: `Bearer ${authToken}`\n        }\n      });\n      if (response.data.success) {\n        setExpenses(response.data.expenses);\n        setTotal(response.data.total);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error fetching expenses:\", error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        // Token expired or invalid\n        handleLogout();\n      }\n    }\n  };\n\n  // Add expense\n  const addExpense = async expenseData => {\n    try {\n      const response = await axios.post(\"/api/expenses\", expenseData, {\n        headers: {\n          Authorization: `Bearer ${authToken}`\n        }\n      });\n      if (response.data.success) {\n        setExpenses(prev => [response.data.expense, ...prev]);\n        setTotal(prev => prev + expenseData.amount);\n      }\n    } catch (error) {\n      var _error$response2;\n      console.error(\"Error adding expense:\", error);\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Delete expense\n  const deleteExpense = async (id, amount) => {\n    try {\n      const response = await axios.delete(`/api/expenses/${id}`, {\n        headers: {\n          Authorization: `Bearer ${authToken}`\n        }\n      });\n      if (response.data.success) {\n        setExpenses(prev => prev.filter(exp => exp._id !== id));\n        setTotal(prev => prev - amount);\n      }\n    } catch (error) {\n      var _error$response3;\n      console.error(\"Error deleting expense:\", error);\n      if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Handle login\n  const handleLogin = (userData, token) => {\n    setUser(userData);\n    setAuthToken(token);\n\n    // Show success notification\n    toast.success(`Welcome back, ${userData.name}!`);\n\n    // Set default authorization header\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  };\n\n  // Handle registration\n  const handleRegister = async registrationData => {\n    try {\n      const response = await axios.post(\"/api/auth/register\", registrationData);\n      if (response.data.success) {\n        // Show success notification\n        toast.success(\"Account created successfully! Please sign in.\");\n\n        // Switch to login mode instead of auto-login\n        setIsRegisterMode(false);\n\n        // Optional: Store the registration data temporarily for auto-fill\n        sessionStorage.setItem(\"registeredEmail\", registrationData.email);\n      } else {\n        throw new Error(response.data.message || \"Registration failed\");\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error(\"Registration error:\", error);\n      // Show error notification\n      if ((_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && _error$response4$data.message) {\n        toast.error(error.response.data.message);\n      } else {\n        toast.error(\"Registration failed. Please try again.\");\n      }\n      throw error; // Re-throw to let Register component handle it\n    }\n  };\n\n  // Handle login form submission\n  const handleLoginSubmit = async loginData => {\n    try {\n      const response = await axios.post(\"/api/auth/login\", loginData);\n      if (response.data.success) {\n        // Store token and user data\n        localStorage.setItem(\"authToken\", response.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n        handleLogin(response.data.user, response.data.token);\n      } else {\n        throw new Error(response.data.message || \"Login failed\");\n      }\n    } catch (error) {\n      var _error$response5, _error$response5$data, _error$response6;\n      console.error(\"Login error:\", error);\n      // Show error notification\n      if ((_error$response5 = error.response) !== null && _error$response5 !== void 0 && (_error$response5$data = _error$response5.data) !== null && _error$response5$data !== void 0 && _error$response5$data.message) {\n        toast.error(error.response.data.message);\n      } else if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 401) {\n        toast.error(\"Invalid email or password\");\n      } else {\n        toast.error(\"Login failed. Please try again.\");\n      }\n      throw error; // Re-throw to let Login component handle it\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    setUser(null);\n    setAuthToken(null);\n    setExpenses([]);\n    setTotal(0);\n\n    // Clear stored data\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"authToken\");\n    sessionStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"registeredEmail\");\n\n    // Clear default authorization header\n    delete axios.defaults.headers.common[\"Authorization\"];\n\n    // Show logout notification\n    toast.success(\"Logged out successfully\");\n  };\n\n  // Handle company registration\n  const handleCompanyRegister = async companyData => {\n    try {\n      const response = await axios.post(\"/api/auth/v2/register-company\", companyData);\n      if (response.data.success) {\n        handleLogin(response.data.user, response.data.token);\n        toast.success(\"Company registered successfully! Welcome!\");\n        setIsCompanyRegisterMode(false);\n      }\n    } catch (error) {\n      var _error$response7, _error$response7$data;\n      console.error(\"Error registering company:\", error);\n      const errorMessage = ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.message) || \"Registration failed\";\n      toast.error(errorMessage);\n    }\n  };\n  useEffect(() => {\n    fetchExpenses();\n  }, [user, authToken]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCB0 Expense Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show dashboard if user is authenticated\n  if (user && authToken) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Toaster, {\n        position: \"top-right\",\n        toastOptions: {\n          duration: 4000,\n          style: {\n            background: \"#363636\",\n            color: \"#fff\"\n          },\n          success: {\n            duration: 3000,\n            style: {\n              background: \"#10b981\"\n            }\n          },\n          error: {\n            duration: 5000,\n            style: {\n              background: \"#ef4444\"\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        user: user,\n        expenses: expenses,\n        total: total,\n        onAddExpense: addExpense,\n        onDeleteExpense: deleteExpense,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  // Show authentication forms\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-right\",\n      toastOptions: {\n        duration: 4000,\n        style: {\n          background: \"#363636\",\n          color: \"#fff\"\n        },\n        success: {\n          duration: 3000,\n          style: {\n            background: \"#10b981\"\n          }\n        },\n        error: {\n          duration: 5000,\n          style: {\n            background: \"#ef4444\"\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), isCompanyRegisterMode ? /*#__PURE__*/_jsxDEV(CompanyRegistration, {\n      onRegister: handleCompanyRegister,\n      onSwitchToLogin: () => setIsCompanyRegisterMode(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this) : isRegisterMode ? /*#__PURE__*/_jsxDEV(Register, {\n      onRegister: handleRegister,\n      onSwitchToLogin: () => setIsRegisterMode(false),\n      onSwitchToCompanyRegister: () => setIsCompanyRegisterMode(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: handleLoginSubmit,\n      onSwitchToRegister: () => setIsRegisterMode(true),\n      onSwitchToCompanyRegister: () => setIsCompanyRegisterMode(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"hujhdBGGaZyz+h/bOgDnDogQSxM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","toast","Toaster","Login","Register","CompanyRegistration","Dashboard","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","authToken","setAuthToken","expenses","setExpenses","total","setTotal","isRegisterMode","setIsRegisterMode","isCompanyRegisterMode","setIsCompanyRegisterMode","isLoading","setIsLoading","checkExistingAuth","token","localStorage","getItem","sessionStorage","userData","parsedUser","JSON","parse","defaults","headers","common","error","console","removeItem","fetchExpenses","response","get","Authorization","data","success","_error$response","status","handleLogout","addExpense","expenseData","post","prev","expense","amount","_error$response2","deleteExpense","id","delete","filter","exp","_id","_error$response3","handleLogin","name","handleRegister","registrationData","setItem","email","Error","message","_error$response4","_error$response4$data","handleLoginSubmit","loginData","stringify","_error$response5","_error$response5$data","_error$response6","handleCompanyRegister","companyData","_error$response7","_error$response7$data","errorMessage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","position","toastOptions","duration","style","background","color","onAddExpense","onDeleteExpense","onLogout","onRegister","onSwitchToLogin","onSwitchToCompanyRegister","onLogin","onSwitchToRegister","_c","$RefreshReg$"],"sources":["/Users/pragneshpatel/Documents/GVP/Hackthon/expense-tracker/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport CompanyRegistration from \"./components/CompanyRegistration\";\nimport Dashboard from \"./pages/Dashboard\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [isRegisterMode, setIsRegisterMode] = useState(false);\n  const [isCompanyRegisterMode, setIsCompanyRegisterMode] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check for existing authentication on app start\n  useEffect(() => {\n    const checkExistingAuth = () => {\n      const token =\n        localStorage.getItem(\"authToken\") ||\n        sessionStorage.getItem(\"authToken\");\n      const userData =\n        localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\");\n\n      if (token && userData) {\n        try {\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n          setAuthToken(token);\n\n          // Set default authorization header\n          axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n        } catch (error) {\n          console.error(\"Error parsing stored user data:\", error);\n          // Clear invalid data\n          localStorage.removeItem(\"authToken\");\n          localStorage.removeItem(\"user\");\n          sessionStorage.removeItem(\"authToken\");\n          sessionStorage.removeItem(\"user\");\n        }\n      }\n      setIsLoading(false);\n    };\n\n    checkExistingAuth();\n  }, []);\n\n  // Fetch expenses\n  const fetchExpenses = async () => {\n    if (!user || !authToken) return;\n\n    try {\n      const response = await axios.get(\"/api/expenses\", {\n        headers: { Authorization: `Bearer ${authToken}` },\n      });\n\n      if (response.data.success) {\n        setExpenses(response.data.expenses);\n        setTotal(response.data.total);\n      }\n    } catch (error) {\n      console.error(\"Error fetching expenses:\", error);\n\n      if (error.response?.status === 401) {\n        // Token expired or invalid\n        handleLogout();\n      }\n    }\n  };\n\n  // Add expense\n  const addExpense = async (expenseData) => {\n    try {\n      const response = await axios.post(\"/api/expenses\", expenseData, {\n        headers: { Authorization: `Bearer ${authToken}` },\n      });\n\n      if (response.data.success) {\n        setExpenses((prev) => [response.data.expense, ...prev]);\n        setTotal((prev) => prev + expenseData.amount);\n      }\n    } catch (error) {\n      console.error(\"Error adding expense:\", error);\n\n      if (error.response?.status === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Delete expense\n  const deleteExpense = async (id, amount) => {\n    try {\n      const response = await axios.delete(`/api/expenses/${id}`, {\n        headers: { Authorization: `Bearer ${authToken}` },\n      });\n\n      if (response.data.success) {\n        setExpenses((prev) => prev.filter((exp) => exp._id !== id));\n        setTotal((prev) => prev - amount);\n      }\n    } catch (error) {\n      console.error(\"Error deleting expense:\", error);\n\n      if (error.response?.status === 401) {\n        handleLogout();\n      }\n    }\n  };\n\n  // Handle login\n  const handleLogin = (userData, token) => {\n    setUser(userData);\n    setAuthToken(token);\n\n    // Show success notification\n    toast.success(`Welcome back, ${userData.name}!`);\n\n    // Set default authorization header\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  };\n\n  // Handle registration\n  const handleRegister = async (registrationData) => {\n    try {\n      const response = await axios.post(\"/api/auth/register\", registrationData);\n\n      if (response.data.success) {\n        // Show success notification\n        toast.success(\"Account created successfully! Please sign in.\");\n\n        // Switch to login mode instead of auto-login\n        setIsRegisterMode(false);\n\n        // Optional: Store the registration data temporarily for auto-fill\n        sessionStorage.setItem(\"registeredEmail\", registrationData.email);\n      } else {\n        throw new Error(response.data.message || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      // Show error notification\n      if (error.response?.data?.message) {\n        toast.error(error.response.data.message);\n      } else {\n        toast.error(\"Registration failed. Please try again.\");\n      }\n      throw error; // Re-throw to let Register component handle it\n    }\n  };\n\n  // Handle login form submission\n  const handleLoginSubmit = async (loginData) => {\n    try {\n      const response = await axios.post(\"/api/auth/login\", loginData);\n\n      if (response.data.success) {\n        // Store token and user data\n        localStorage.setItem(\"authToken\", response.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n\n        handleLogin(response.data.user, response.data.token);\n      } else {\n        throw new Error(response.data.message || \"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      // Show error notification\n      if (error.response?.data?.message) {\n        toast.error(error.response.data.message);\n      } else if (error.response?.status === 401) {\n        toast.error(\"Invalid email or password\");\n      } else {\n        toast.error(\"Login failed. Please try again.\");\n      }\n      throw error; // Re-throw to let Login component handle it\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    setUser(null);\n    setAuthToken(null);\n    setExpenses([]);\n    setTotal(0);\n\n    // Clear stored data\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"authToken\");\n    sessionStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"registeredEmail\");\n\n    // Clear default authorization header\n    delete axios.defaults.headers.common[\"Authorization\"];\n\n    // Show logout notification\n    toast.success(\"Logged out successfully\");\n  };\n\n  // Handle company registration\n  const handleCompanyRegister = async (companyData) => {\n    try {\n      const response = await axios.post(\"/api/auth/v2/register-company\", companyData);\n      \n      if (response.data.success) {\n        handleLogin(response.data.user, response.data.token);\n        toast.success(\"Company registered successfully! Welcome!\");\n        setIsCompanyRegisterMode(false);\n      }\n    } catch (error) {\n      console.error(\"Error registering company:\", error);\n      const errorMessage = error.response?.data?.message || \"Registration failed\";\n      toast.error(errorMessage);\n    }\n  };\n\n  useEffect(() => {\n    fetchExpenses();\n  }, [user, authToken]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">\n          <h2>ðŸ’° Expense Tracker</h2>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show dashboard if user is authenticated\n  if (user && authToken) {\n    return (\n      <>\n        <Toaster\n          position=\"top-right\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: \"#363636\",\n              color: \"#fff\",\n            },\n            success: {\n              duration: 3000,\n              style: {\n                background: \"#10b981\",\n              },\n            },\n            error: {\n              duration: 5000,\n              style: {\n                background: \"#ef4444\",\n              },\n            },\n          }}\n        />\n        <Dashboard\n          user={user}\n          expenses={expenses}\n          total={total}\n          onAddExpense={addExpense}\n          onDeleteExpense={deleteExpense}\n          onLogout={handleLogout}\n        />\n      </>\n    );\n  }\n\n  // Show authentication forms\n  return (\n    <div className=\"app\">\n      <Toaster\n        position=\"top-right\"\n        toastOptions={{\n          duration: 4000,\n          style: {\n            background: \"#363636\",\n            color: \"#fff\",\n          },\n          success: {\n            duration: 3000,\n            style: {\n              background: \"#10b981\",\n            },\n          },\n          error: {\n            duration: 5000,\n            style: {\n              background: \"#ef4444\",\n            },\n          },\n        }}\n      />\n\n      {isCompanyRegisterMode ? (\n        <CompanyRegistration\n          onRegister={handleCompanyRegister}\n          onSwitchToLogin={() => setIsCompanyRegisterMode(false)}\n        />\n      ) : isRegisterMode ? (\n        <Register\n          onRegister={handleRegister}\n          onSwitchToLogin={() => setIsRegisterMode(false)}\n          onSwitchToCompanyRegister={() => setIsCompanyRegisterMode(true)}\n        />\n      ) : (\n        <Login\n          onLogin={handleLoginSubmit}\n          onSwitchToRegister={() => setIsRegisterMode(true)}\n          onSwitchToCompanyRegister={() => setIsCompanyRegisterMode(true)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}