{"ast":null,"code":"var _jsxFileName = \"/Users/pragneshpatel/Documents/GVP/Hackthon/expense-tracker/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from \"./components/Login\";\nimport Dashboard from \"./pages/Dashboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  // Fetch expenses\n  const fetchExpenses = async () => {\n    if (!user) return;\n    try {\n      const response = await axios.get(`/api/expenses/${user.id}`);\n      setExpenses(response.data.expenses);\n      setTotal(response.data.total);\n    } catch (error) {\n      console.error(\"Error fetching expenses:\", error);\n    }\n  };\n\n  // Add expense\n  const addExpense = async expenseData => {\n    try {\n      const response = await axios.post(\"/api/expenses\", {\n        ...expenseData,\n        userId: user.id\n      });\n      setExpenses(prev => [response.data, ...prev]);\n      setTotal(prev => prev + expenseData.amount);\n    } catch (error) {\n      console.error(\"Error adding expense:\", error);\n    }\n  };\n\n  // Delete expense\n  const deleteExpense = async (id, amount) => {\n    try {\n      await axios.delete(`/api/expenses/${id}`);\n      setExpenses(prev => prev.filter(exp => exp._id !== id));\n      setTotal(prev => prev - amount);\n    } catch (error) {\n      console.error(\"Error deleting expense:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchExpenses();\n  }, [user]);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: setUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Dashboard, {\n    user: user,\n    expenses: expenses,\n    total: total,\n    onAddExpense: addExpense,\n    onDeleteExpense: deleteExpense,\n    onLogout: () => setUser(null)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"h/mhrOHdJp+rEmHBYRo9gOba3Bk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Login","Dashboard","jsxDEV","_jsxDEV","App","_s","user","setUser","expenses","setExpenses","total","setTotal","fetchExpenses","response","get","id","data","error","console","addExpense","expenseData","post","userId","prev","amount","deleteExpense","delete","filter","exp","_id","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","onAddExpense","onDeleteExpense","onLogout","_c","$RefreshReg$"],"sources":["/Users/pragneshpatel/Documents/GVP/Hackthon/expense-tracker/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from \"./components/Login\";\nimport Dashboard from \"./pages/Dashboard\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  // Fetch expenses\n  const fetchExpenses = async () => {\n    if (!user) return;\n    try {\n      const response = await axios.get(`/api/expenses/${user.id}`);\n      setExpenses(response.data.expenses);\n      setTotal(response.data.total);\n    } catch (error) {\n      console.error(\"Error fetching expenses:\", error);\n    }\n  };\n\n  // Add expense\n  const addExpense = async (expenseData) => {\n    try {\n      const response = await axios.post(\"/api/expenses\", {\n        ...expenseData,\n        userId: user.id,\n      });\n      setExpenses((prev) => [response.data, ...prev]);\n      setTotal((prev) => prev + expenseData.amount);\n    } catch (error) {\n      console.error(\"Error adding expense:\", error);\n    }\n  };\n\n  // Delete expense\n  const deleteExpense = async (id, amount) => {\n    try {\n      await axios.delete(`/api/expenses/${id}`);\n      setExpenses((prev) => prev.filter((exp) => exp._id !== id));\n      setTotal((prev) => prev - amount);\n    } catch (error) {\n      console.error(\"Error deleting expense:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchExpenses();\n  }, [user]);\n\n  if (!user) {\n    return <Login onLogin={setUser} />;\n  }\n\n  return (\n    <Dashboard\n      user={user}\n      expenses={expenses}\n      total={total}\n      onAddExpense={addExpense}\n      onDeleteExpense={deleteExpense}\n      onLogout={() => setUser(null)}\n    />\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}